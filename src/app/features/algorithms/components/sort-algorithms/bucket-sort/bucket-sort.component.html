<form novalidate [formGroup]="bucketSortFG">
    <div class="d-flex mb-2">
        <div class="col-7">
            <h4>Bucket Sort Algorithm</h4>
        </div>
        <div class="col-5 d-flex justify-content-end">
            <h4>Big O:&nbsp;<span class="text-success">O(n + k)</span></h4>
        </div>
    </div>

    <p>Bucket Sort is a sorting algorithm that divides the unsorted array elements into several groups called buckets.
        Each bucket is then sorted by using any of the suitable sorting algorithms or recursively applying the same
        bucket algorithm.</p>

    <p>Finally, the sorted buckets are combined to form a final sorted array.</p>

    <b>Scatter Gather Approach</b>

    <p>The process of bucket sort can be understood as a <b>scatter-gather approach.</b> Here, elements are first
        scattered into
        buckets then the elements in each bucket are sorted. Finally, the elements are gathered in order.</p>

    <div class="bg-white bg-white-overview">
        <img class="bucket-image-overview"
            src="assets/images/algorithms/sort-algorithms/bucket-sort/bucket-sort-1.png" />
    </div>

    <h4 class="mt-4 mb-2">Steps to follow</h4>

    <ol>
        <li>Suppose, the input array is:</li>

        <div class="bg-white mt-3 mb-3">
            <img class="bucket-image"
                src="assets/images/algorithms/sort-algorithms/bucket-sort/bucket-sort-2.png" />
        </div>

        <p>Create an array of size 10. Each slot of this array is used as a bucket for storing elements.</p>

        <div class="bg-white bg-white-3 mb-5">
            <img class="bucket-image"
                src="assets/images/algorithms/sort-algorithms/bucket-sort/bucket-sort-3.png" />
        </div>

        <li>
            <p>Insert elements into the buckets from the array. The elements are inserted according to the range of the
                bucket.</p>
        </li>

        <p>In our example code, we have buckets each of ranges from 0 to 1, 1 to 2, 2 to 3,...... (n-1) to n.</p>
        <p>Suppose, an input element is .23 is taken. It is multiplied by size = 10 (ie. .23*10=2.3). Then, it is
            converted into an integer (ie. 2.3â‰ˆ2). Finally, .23 is inserted into <b>bucket-2.</b></p>

        <div class="bg-white bg-white-4 mb-3">
            <img class="bucket-image"
                src="assets/images/algorithms/sort-algorithms/bucket-sort/bucket-sort-4.png" />
        </div>

        <p>Similarly, .25 is also inserted into the same bucket. Everytime, the floor value of the floating point number
            is taken.</p>

        <p><b>If we take integer numbers as input, we have to divide it by the interval (10 here) to get the floor
                value.</b></p>

        <p>Similarly, other elements are inserted into their respective buckets.</p>

        <div class="bg-white bg-white-5 mb-5">
            <img class="bucket-image"
                src="assets/images/algorithms/sort-algorithms/bucket-sort/bucket-sort-5.png" />
        </div>

        <li>The elements of each bucket are sorted using any of the stable sorting algorithms. Here, we have used
            quicksort (inbuilt function).</li>

        <div class="bg-white bg-white-6 mt-3 mb-5">
            <img class="bucket-image"
                src="assets/images/algorithms/sort-algorithms/bucket-sort/bucket-sort-6.png" />
        </div>

        <li>The elements from each bucket are gathered.</li>
        <p>It is done by iterating through the bucket and inserting an individual element into the original array in
            each cycle. The element from the bucket is erased once it is copied into the original array.</p>

        <div class="bg-white bg-white-7 mb-5">
            <img class="bucket-image"
                src="assets/images/algorithms/sort-algorithms/bucket-sort/bucket-sort-7.png" />
        </div>
    </ol>

    <h4 class="mt-4 mb-2">Code</h4>

    <pre class="code-background">
        <code [innerHTML]="highlightedCode"></code>
    </pre>

    <h4 class="mt-4 mb-2">Practice Implementation</h4>

    <div class="row">
        <div class="d-flex">
            <div class="col-3 pt-2">Bucket sort on Id: </div>
            <div class="col-9">
                <button class="button me-2" type="button" (click)="bucketSort()">Bucket Sort</button>
                <button class="button" type="button" (click)="reset()">Randomize</button>
            </div>
        </div>
    </div>

    <table class="table table-striped mt-4">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Country</th>
                <th scope="col">Area</th>
                <th scope="col">Population</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let country of countries">
                <th scope="row">{{ country.id }}</th>
                <td><ngb-highlight [result]="country.name"></ngb-highlight></td>
                <td><ngb-highlight [result]="country.capital"></ngb-highlight></td>
                <td><ngb-highlight [result]="country.population | number"></ngb-highlight></td>
            </tr>
        </tbody>
    </table>
</form>